# Spectral Relevance Investigating Clusters (SPRINCL)

There are two command-line interfaces:

## SPRINCL for Analysis

```sh
sprincl \
        --modify \
        --overwrite \
        --exname n38194990 \
        "/path/to/analysis/output.h5" \
    embed \
        --eigvals 32 \
        --knn 8 \
        --no-modify
        --label-filter 382 \
        "/path/to/attribution.h5" \
    cluster \
        --eigvals 8 \
        --clusters 2,3,4,5,6,7,8,9,10,11,12 \
    tsne \
        --eigvals 8
```

## VISPR for Visualization

VISPR is a visualization tool for the analysis data generated by SPRINCL. It runs a small website, which makes it possible to view the TSNE embeddings and the corresponding images and attributions. This makes it easy to understand the classifier as well as the dataset. The following command starts the VISPR server and opens the browser.

```sh
vispr \
    --address 0.0.0.0 \
    --port 5096 \
    "/path/to/input/image/folder" \
    "/path/to/attribution.h5" \
    "/path/to/analysis.h5" \
    "/path/to/wordmap.json" \
    "/path/to/label_wnids.txt"
```

Interesting findings can be saved to a database for later reference. To enable this feature the `--database-path` parameter has to be set to a SQLite3 database file. If the file does not exist, a new database is created. When the database already exists it is reused and the interesting findings stored in it can be viewed in VISPR. Not specifying a database path disables the feature.
