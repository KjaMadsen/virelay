![Vispr Logo](docs/img/vispr-logo-128.png)
# VISPR for Visualization

VISPR is a visualization tool for the analysis data generated by SPRINCL. It runs a small website, which makes it possible to view the TSNE embeddings and the corresponding images and attributions. This makes it easy to understand the classifier as well as the dataset. The command-line interface is defined as following:

```sh
$ vispr --help
usage: vispr [-h] [-H HOST] [-p PORT] [-d] project [project ...]

The vNext version of the visualization tool VISPR.

positional arguments:
  project               The project file that is to be loaded into the workspace. Multiple project files can be specified.

optional arguments:
  -h, --help            show this help message and exit
  -H HOST, --host HOST  The name or IP address at which the server should run. Defaults to "localhost".
  -p PORT, --port PORT  The port at which the server should run. Defaults to 8080.
  -d, --debug-mode      Determines whether the application is run in debug mode. When the application is in debug mode, then all FLASK and Werkzeug logs are printed to stdout, FLASK debugging is activated (FLASK will print out the debugger PIN for attaching the debugger), and the automatic reloading, when the Python files change is activated. Furthermore, the frontend of the application will not be served via the command line tool and has to be directly started (e.g. via ng serve). Otherwise, all these things will be deactivated and the frontend of the application is served via the FLASK server. If the application is to be debugged using Visual Studio Code (or any other IDE for that matter), then the application must not be started in debug mode, because Visual Studio will create its own debugger.
```


Multiple project files may be supplied. A project file may look like the [following](docs/example/example-project.yaml):

```yaml
project:
  name: VGG16 ILSVRC2012-small SG
  model: VGG16
  label_map: datasets/ilsvrc2012/label-map-keras.json
  dataset:
    name: ILSVRC2012-small
    type: hdf5
    path: datasets/ilsvrc2012/ilsvrc2012-small.input.h5
    input_width: 224
    input_height: 224
    down_sampling_method: none
    up_sampling_method: none
  attributions:
    attribution_method: smoothgrad
    attribution_strategy: true_label
    sources:
      - ilsvrc2012-small-sg/attribution/ilsvrc2012-small.smoothgrad.h5
  analyses:
    - analysis_method: spectral_analysis
      sources:
        - ilsvrc2012-small-sg/analysis/ilsvrc2012-small.smoothgrad.h5
```

Paths are relative to the project file. HDF5 files are structured as described in [docs/database_specifications.md](docs/database_specifications.md).
An example how to structure hdf5 file for use with vispr is shown in [docs/example/hdf5_structure.py](docs/example/hdf5_structure.py).
